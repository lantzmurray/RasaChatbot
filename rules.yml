version: "3.1"

rules:
- rule: Greet user
  steps:
  - intent: greet
  - action: utter_action_greet

- rule: Start transfer money form
  steps:
  - intent: transfer_money
  - action: utter_transfer_money_form
  - active_loop: transfer_money_form

- rule: Start card replacement form
  steps:
  - intent: report_lost_card
  - action: utter_card_replacement_form
  - active_loop: card_replacement_form

- rule: Submit transfer money form
  condition:
  - active_loop: transfer_money_form
  steps:
  - action: utter_transfer_money_form
  - active_loop: null
  - action: action_transfer_confirm

- rule: Submit card replacement form
  condition:
  - active_loop: card_replacement_form
  steps:
  - action: utter_card_replacement_form
  - active_loop: null
  - action: action_report_lost_card_confirm
